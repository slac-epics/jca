<document>
  <properties>
    <title>JCA Changes page</title>
    <author email="matej.sekoranja_AT_cosylab.com">Matej Sekoranja</author>
  </properties>
  
  <body>
    <release version="2.3.2" date="2008-10-27" description="PUT_ACKT/ACKS support added.">
      <action dev="msekoranja" type="update">
      	PUT_ACKT/ACKS support added.
      </action>              
      <action dev="msekoranja" type="update">
      	Mac OS X (Intel) support.
      </action>              
      <action dev="msekoranja" type="fix">
      	JNI processing fixed in case of error.
      </action>              
    </release>

    <release version="2.3.1" date="2006-12-20" description="QueuedEventDispatcher deadlock detection.">
      <action dev="msekoranja" type="fix">
       QueuedEventDispatcher deadlock detection added (if queue is full and event is generated by event dispatcher queue).
      </action>              
      <action dev="msekoranja" type="fix">
       Clean implementation of JNI <code>AttachCurrentThread/DeattachCurrentThread</code>.
       <code>AttachCurrentThreadAsDaemon</code> used instead of <code>AttachCurrentThread</code> (to let JVM to exit if not using EPICS 3.14.9 or newer).
       JDK 1.4 or newer required by <code>AttachCurrentThreadAsDaemon</code>. 
      </action>              
      <action dev="msekoranja" type="update">
       Ported part of CAJ tests to test JCA.
      </action>              
      <action dev="msekoranja" type="fix">
		<code>JNIMonitor.removeMonitorListener()</code> implementation did actually add a monitor listener. Fixed.
      </action>              
      <action dev="msekoranja" type="fix">
		<code>JNIChannel.get()</code> threw a <code>NullPointerException</code> if channel not connected. Fixed to throw <code>CAException</code>.
      </action>              
    </release>

    <release version="2.3.0" date="2006-11-06" description="64-bit platform support.">
      <action dev="msekoranja" type="update">
       64-bit platform support added (32-bit pointers replaced with 64-bit).
      </action>              
      <action dev="msekoranja" type="fix">
       JNI context initialization bug fixed.
      </action>              
      <action dev="msekoranja" type="fix">
       JNI global context message callback fallback fixed.
       Unused <code>getEnvPtr/freeEnvPtr</code> on non-BSD4.3 systems excluded from build.
      </action>              
    </release>

    <release version="2.2.1" date="2006-10-26" description="Priority support added.">
      <action dev="msekoranja" type="update">
       Priority support added..
      </action>              
    </release>

    <release version="2.2.0" date="2006-09-09" description="ServerContext and bug fixes/improvements.">
      <action dev="msekoranja" type="fix">
       <code>QueuedEventDispatcher</code> improved (blocks per PV).
      </action>              
      <action dev="msekoranja" type="fix">
       Added code to destroy event dispatcher to <code>JNIContext</code>. 
      </action>              
      <action dev="msekoranja" type="update">
       Added support for <code>ServerContext</code> and some changes to DBRs.
      </action>              
    </release>

    <release version="2.1.7" date="2006-05-26" description="Minor fixes and updates.">
      <action dev="msekoranja" type="fix">
       Eclipse compatibility, exception callbacks, use of <code>epicsThreadPrivate</code>. (fix provided by Kenneth Evans, Jr.)
      </action>              
      <action dev="msekoranja" type="update">
       Added <code>CAStatus.UNRESPTMO</code> (virtual circuit unresponsive) status.
      </action>              
      <action dev="msekoranja" type="update">
       Added <code>ContextExceptionListener.contextVirtualCircuitException()</code> method.
      </action>              
    </release>

    <release version="2.1.6" date="2005-07-06" description="Minor fixes, MacOS port.">
      <action dev="msekoranja" type="fix">
        <code>gov.aps.jca.event.DirectEventDispatcher</code> - added exception handling
		of exceptions thrown from user code.
      </action>              
      <action dev="msekoranja" type="update">
        Minor performance/memory improvement on enums types.
      </action>              
      <action dev="msekoranja" type="fix">
        Malformed JavaDocs fixed.
      </action>              
      <action dev="msekoranja" type="fix">
       I fixed a bug that was overwriting memory in <code>JNI.cpp</code>. (fix provided by Tom Pelaia)
      </action>              
      <action dev="msekoranja" type="update">
       I added support for building and running JCA on Mac OS X. (update provided by Tom Pelaia)
      </action>              
      <action dev="msekoranja" type="update">
		Simplified the OS scripts by using the EPICS environment 
		variables to eliminate the hard coded paths so users will no longer 
		have to edit these files for their setup.
		Now build system uses the <code>EPICS_BASE_RELEASE</code> and 
		<code>EPICS_EXTENSIONS</code> environment variables that EPICS users use for 
		referencing the EPICS base and extensions folders respectively. (update provided by Tom Pelaia)
      </action>              
    </release>
    
    <release version="2.1.5" date="2004-11-06" description="Convenience updates.">
      <action dev="msekoranja" type="add">
        Added <code>gov.aps.jca.Context.getVersion()</code> method. Now users can retrieve context name and version 
        information (at runtime).
      </action>              
      <action dev="msekoranja" type="add">
		Added global context configuration defined in <code>JCALibrary.property</code>.
		Prefix <code>gov.aps.jca.Context</code> can be used instead of specific
		prefixes to set global context configuration. Of course, specific configuration overrides default configuration(s).
      </action>              
    </release>

    <release version="2.1.4" date="2004-10-26" description="Minor bugfix and CAJ context constant added.">
      <action dev="msekoranja" type="add">
        Added <code>gov.aps.jca.JCALibrary.CHANNEL_ACCESS_JAVA</code> property.
      </action>              
      <action dev="msekoranja" type="fix">
        <code>gov.aps.jca.jni.JNI.ctxt_pool()</code> was always throwing a CAException due to the fact
		that the ca_poll() function in the C library always returns a timeout status code (fix provided by Eric Boucher).
      </action>              
    </release>
    
    <release version="2.1.3" date="2004-08-12" description="Cleanup and bugfixes.">
      <action dev="msekoranja" type="fix">
        Major synchonization and performance fixes in <code>gov.aps.jca.event.QueuedEventDispatcher</code>.
      </action>              
      <action dev="msekoranja" type="fix">
        <code>gov.aps.jca.event.DirectEventDispatcher</code> minor performance improvement.
      </action>              
      <action dev="msekoranja" type="fix">
        <code>gov.aps.jca.JCALibrary.getInstance()</code> singleton pattern was missing synchronization.
      </action>              
      <action dev="msekoranja" type="fix">
        Removed unused imports in the code.
      </action>              
    </release>

    <release version="2.1.2" date="2004-08-11" description="Import of JCA 2.1.2 source code from APS pages.">
      <action dev="msekoranja" type="update">
		Import of JCA 2.1.2 source code from APS pages.
      </action>              
    </release>

  </body>
</document>